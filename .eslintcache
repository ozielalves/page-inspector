[{"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\index.tsx":"1","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\reportWebVitals.ts":"2","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\App.tsx":"3","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\routes\\index.tsx":"4","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\pages\\Home\\index.tsx":"5","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\styles\\index.ts":"6","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\components\\Footer\\index.tsx":"7","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\components\\Navbar\\index.tsx":"8","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\components\\InspectionRegisterBar\\index.tsx":"9","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\components\\ActionButton\\index.tsx":"10","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\hooks\\useRequest.ts":"11","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\states\\RequestState.ts":"12","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\hooks\\useRefresh.ts":"13","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\pages\\Requests\\index.tsx":"14","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\db\\repositories\\requests.ts":"15","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\db\\index.ts":"16","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\components\\Table\\index.tsx":"17","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\components\\Table\\TableItem\\index.tsx":"18","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\components\\CircularProgress\\index.tsx":"19","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\components\\RequestDetails\\index.tsx":"20"},{"size":500,"mtime":1610810191888,"results":"21","hashOfConfig":"22"},{"size":425,"mtime":1609279609355,"results":"23","hashOfConfig":"22"},{"size":380,"mtime":1610900299744,"results":"24","hashOfConfig":"22"},{"size":370,"mtime":1610912108030,"results":"25","hashOfConfig":"22"},{"size":3931,"mtime":1611002094683,"results":"26","hashOfConfig":"22"},{"size":2974,"mtime":1610975290759,"results":"27","hashOfConfig":"22"},{"size":387,"mtime":1610813452511,"results":"28","hashOfConfig":"22"},{"size":1706,"mtime":1610968911880,"results":"29","hashOfConfig":"22"},{"size":2405,"mtime":1611002174332,"results":"30","hashOfConfig":"22"},{"size":1414,"mtime":1610929562071,"results":"31","hashOfConfig":"22"},{"size":3115,"mtime":1611002963263,"results":"32","hashOfConfig":"22"},{"size":394,"mtime":1610905975023,"results":"33","hashOfConfig":"22"},{"size":389,"mtime":1610900572244,"results":"34","hashOfConfig":"22"},{"size":4842,"mtime":1610975608622,"results":"35","hashOfConfig":"22"},{"size":1936,"mtime":1610915493882,"results":"36","hashOfConfig":"22"},{"size":530,"mtime":1610907838758,"results":"37","hashOfConfig":"22"},{"size":1792,"mtime":1610974454959,"results":"38","hashOfConfig":"22"},{"size":1407,"mtime":1610973901146,"results":"39","hashOfConfig":"22"},{"size":3204,"mtime":1610929099903,"results":"40","hashOfConfig":"22"},{"size":2644,"mtime":1610975567891,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"1t1i7qa",{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"44"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\index.tsx",[],["84","85"],"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\reportWebVitals.ts",[],"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\App.tsx",[],"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\routes\\index.tsx",[],"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\pages\\Home\\index.tsx",["86"],"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\styles\\index.ts",[],"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\components\\Footer\\index.tsx",[],"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\components\\Navbar\\index.tsx",[],"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\components\\InspectionRegisterBar\\index.tsx",[],"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\components\\ActionButton\\index.tsx",[],"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\hooks\\useRequest.ts",["87"],"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\states\\RequestState.ts",[],"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\hooks\\useRefresh.ts",[],"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\pages\\Requests\\index.tsx",["88","89","90"],"import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { PageWrapper, StyledLink, Text, Wrapper, Title } from \"../../styles\";\nimport ActionButton from \"../../components/ActionButton\";\nimport RequestDetails from \"../../components/RequestDetails\";\nimport Table from \"../../components/Table\";\nimport { observer } from \"mobx-react\";\nimport { requestState } from \"../../states/RequestState\";\nimport useRefresh from \"../../hooks/useRefresh\";\nimport { useHistory } from \"react-router-dom\";\nimport * as request from \"../../db/repositories/requests\";\nimport { ReactComponent as ReturnIcon } from \"../../assets/return-icon.svg\";\nimport { ReactComponent as RefreshIcon } from \"../../assets/refresh-icon.svg\";\n\nconst Requests = observer(() => {\n  const history = useHistory();\n  const redirectPath = \"/requests\";\n  const refresh = useRefresh(history, redirectPath);\n\n  const [requests, setRequests] = useState<request.Request[]>();\n  const [refreshFlag, setRefreshFlag] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [fetchError, setFetchError] = useState(false);\n  const [filter, setFilter] = useState(\"\");\n  const [selectedRequest, setSelectedRequest] = useState<request.Request>();\n  const [lastRefresh, setLastRefresh] = useState(0);\n\n  useEffect(() => {\n    fetchRequests();\n    setRefreshFlag(false);\n    setLastRefresh(0);\n  }, [refreshFlag]);\n\n  useEffect(() => {\n    function timer() {\n      setTimeout(() => setLastRefresh(lastRefresh + 1), 60000);\n    }\n    timer();\n  });\n\n  useEffect(() => {\n    if (requests) {\n      if (requestState.id) {\n        const [currentRequest] = requests?.filter(\n          ({ id }: request.Request) => requestState.id === id\n        );\n        setSelectedRequest(currentRequest);\n      } else {\n        const [firstRequest] = requests.slice(0, 1);\n        setSelectedRequest(firstRequest);\n      }\n    }\n  }, [requests]);\n\n  useEffect(() => {\n    if (requests && filter !== \"\") {\n      const [currentRequest] = requests.filter(\n        ({ id }: request.Request) => filter === id\n      );\n      if (currentRequest) {\n        setSelectedRequest(currentRequest);\n      } else {\n        const [firstRequest] = requests.slice(0, 1);\n        setSelectedRequest(firstRequest);\n      }\n    }\n  }, [filter, requests]);\n\n  async function fetchRequests() {\n    setLoading(true);\n\n    // Clean the requests array first\n    setRequests([]);\n\n    // Fetch requests from repository\n    const _requests = await request.get();\n\n    if (_requests) {\n      // Set requests to state\n      setRequests(_requests);\n      setFetchError(false);\n      setLoading(false);\n    } else {\n      setFetchError(true);\n      setLoading(false);\n    }\n  }\n\n  return (\n    <PageContent>\n      <Header>\n        <Wrapper>\n          <StyledLink to=\"/\">\n            <ReturnIcon style={{ marginTop: 10 }} />\n          </StyledLink>\n          <HeaderTitle>Requisições</HeaderTitle>\n        </Wrapper>\n      </Header>\n      <StyledWrapper>\n        <RequestsWrapper>\n          <RefreshWrapper>\n            <ActionButton\n              color={\"secondary\"}\n              onClick={() => {\n                setRefreshFlag(true);\n              }}\n            >\n              <RefreshIcon />\n              <Text style={{ color: \"var(--base-color-text)\" }}>Refresh</Text>\n            </ActionButton>\n            <Text>Última atualização à {lastRefresh} min</Text>\n          </RefreshWrapper>\n          <Table data={requests} setFilter={setFilter} />\n        </RequestsWrapper>\n        <RequestDetails data={selectedRequest} />\n      </StyledWrapper>\n    </PageContent>\n  );\n});\n\nconst HeaderTitle = styled(Title)`\n  margin: 0 17px;\n\n  @media (max-width: 850px) {\n    font-size: 1.8rem;\n  }\n`;\n\nconst RefreshWrapper = styled(Wrapper)`\n  justify-content: flex-start;\n  width: 100%;\n  padding-left: 20px;\n  margin-bottom: 25px;\n`;\n\nconst RequestsWrapper = styled(Wrapper)`\n  height: 100%;\n  justify-content: flex-start;\n  flex-direction: column;\n\n  div > button {\n    transition: display 1s ease;\n    margin-right: 17px;\n    \n    > p {\n      font-weight: \"bold\",\n      color: var(--base-color-white);\n      margin-left: 24px;\n      display: none;\n    }\n\n    :hover {\n      > p {\n        display: flex;\n      }\n    }\n  }\n`;\n\nconst StyledWrapper = styled(Wrapper)`\n  width: 100%;\n  margin-top: 57px;\n\n  @media (max-width: 1080px) {\n    flex-direction: column;\n  }\n`;\n\nconst PageContent = styled(PageWrapper)`\n  height: 84vh;\n  justify-content: flex-start;\n  padding: 0 117px;\n  margin-top: 36px;\n\n  @media (max-width: 1080px) {\n    height: 100%;\n    padding: 0 20px;\n  }\n`;\n\nconst Header = styled(PageWrapper)`\n  justify-content: space-between;\n  flex-direction: row;\n  width: 100%;\n  height: 58px;\n\n  @media (max-width: 600px) {\n    align-items: flex-start;\n  }\n`;\n\nexport default Requests;\n","C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\db\\repositories\\requests.ts",[],"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\db\\index.ts",[],"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\components\\Table\\index.tsx",[],"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\components\\Table\\TableItem\\index.tsx",[],"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\components\\CircularProgress\\index.tsx",[],"C:\\Users\\oziel\\Documents\\Projects\\page-inspector\\src\\components\\RequestDetails\\index.tsx",[],{"ruleId":"91","replacedBy":"92"},{"ruleId":"93","replacedBy":"94"},{"ruleId":"95","severity":1,"message":"96","line":8,"column":24,"nodeType":"97","messageId":"98","endLine":8,"endColumn":32},{"ruleId":"95","severity":1,"message":"99","line":2,"column":13,"nodeType":"97","messageId":"98","endLine":2,"endColumn":15},{"ruleId":"95","severity":1,"message":"100","line":18,"column":9,"nodeType":"97","messageId":"98","endLine":18,"endColumn":16},{"ruleId":"95","severity":1,"message":"101","line":22,"column":10,"nodeType":"97","messageId":"98","endLine":22,"endColumn":17},{"ruleId":"95","severity":1,"message":"102","line":23,"column":10,"nodeType":"97","messageId":"98","endLine":23,"endColumn":20},"no-native-reassign",["103"],"no-negated-in-lhs",["104"],"@typescript-eslint/no-unused-vars","'IRequest' is defined but never used.","Identifier","unusedVar","'qs' is defined but never used.","'refresh' is assigned a value but never used.","'loading' is assigned a value but never used.","'fetchError' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]